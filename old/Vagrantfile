##################################################
# Generated by phansible.com
##################################################
Vagrant.configure("2") do |config|

  # DEFINE CAMERONLOCKEY.COM
  #
  #
  # To start:
  # `vagrant up les`
  config.vm.define "cam" do |les|

    les.vm.box = 'ubuntu/trusty64'

    les.vm.hostname = 'cameron'

    les.vm.provider :virtualbox do |v|
      v.cpus = '2'
      v.memory = '4096'
      v.customize [ "guestproperty", "set", :id, "/VirtualBox/GuestAdd/VBoxService/--timesync-set-threshold", 1000 ]
    end

    les.vm.network :private_network, ip: "192.168.22.99"
    les.vm.network 'forwarded_port', guest: 80, host: 8082

    les.ssh.forward_agent = true

    les.vm.provision "ansible" do |ansible|
      ansible.playbook = "ansible/local_cam_dev.yml"
      ansible.inventory_path = "ansible/inventories/cam_local"
      ansible.raw_ssh_args = ['-o ForwardAgent=yes']
      ansible.limit = 'all'
    end

    les.vm.synced_folder ".", "/vagrant", type: "nfs", create: true

  end

end
